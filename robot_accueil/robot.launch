<launch>

    <param name="use_sim_time" value="true" />
    <arg name="scan_topic"  default="scan" />

    <!-- Note: the world_name is with respect to GAZEBO_RESOURCE_PATH environmental variable -->
    <!--
    <include file="$(find tbot_bringup)/launch/minimal.launch"/>
    <arg name="world_file" value="$(find stage_ros)/world/willow-erratic.world" />
    -->

    <include file="$(find larm)/launch/challenge-1.launch"/>


    <!-- <node pkg="challenge3" type="vision1_cam3d_wiz_haar_bottle.py" name="bottle_detection" output="screen" /> -->

 
    <node pkg="robot_accueil" type="get_to_goal.py" name="go_to_goal" output="screen" />
    <!--node pkg="challenge3" type="transform.py" name="tfprobot" output="screen" /-->

    <node pkg="gmapping" type="slam_gmapping" name="slam_gmapping" output="screen" args="scan">
        <remap from="scan" to="$(arg scan_topic)"/>
        <param name="map_update_interval" value="5.0"/>
            <param name="maxUrange" value="4.0"/>
    </node>

    <group if="$(arg rviz)">
            <!-- stuff that will only be evaluated if foo is true -->
            <node pkg="rviz" type="rviz" name="rviz" args="-d $(find robot_accueil)/config.rviz" />
            </group>
    <param name="rviz" value="false" unless="$(arg rviz)" /> <!-- This param won't be set when "unless" condition is met -->

</launch>
